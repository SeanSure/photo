(function(t){function n(n){for(var o,r,a=n[0],p=n[1],h=n[2],u=0,c=[];u<a.length;u++)r=a[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&c.push(s[r][0]),s[r]=0;for(o in p)Object.prototype.hasOwnProperty.call(p,o)&&(t[o]=p[o]);g&&g(n);while(c.length)c.shift()();return i.push.apply(i,h||[]),e()}function e(){for(var t,n=0;n<i.length;n++){for(var e=i[n],o=!0,r=1;r<e.length;r++){var p=e[r];0!==s[p]&&(o=!1)}o&&(i.splice(n--,1),t=a(a.s=e[0]))}return t}var o={},s={app:0},i=[];function r(t){return a.p+"js/"+({about:"about"}[t]||t)+"."+{about:"cebc34bf"}[t]+".js"}function a(n){if(o[n])return o[n].exports;var e=o[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.e=function(t){var n=[],e=s[t];if(0!==e)if(e)n.push(e[2]);else{var o=new Promise((function(n,o){e=s[t]=[n,o]}));n.push(e[2]=o);var i,p=document.createElement("script");p.charset="utf-8",p.timeout=120,a.nc&&p.setAttribute("nonce",a.nc),p.src=r(t);var h=new Error;i=function(n){p.onerror=p.onload=null,clearTimeout(u);var e=s[t];if(0!==e){if(e){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;h.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",h.name="ChunkLoadError",h.type=o,h.request=i,e[1](h)}s[t]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:p})}),12e4);p.onerror=p.onload=i,document.head.appendChild(p)}return Promise.all(n)},a.m=t,a.c=o,a.d=function(t,n,e){a.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,n){if(1&n&&(t=a(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(a.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)a.d(e,o,function(n){return t[n]}.bind(null,o));return e},a.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(n,"a",n),n},a.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},a.p="",a.oe=function(t){throw console.error(t),t};var p=window["webpackJsonp"]=window["webpackJsonp"]||[],h=p.push.bind(p);p.push=n,p=p.slice();for(var u=0;u<p.length;u++)n(p[u]);var g=h;i.push([0,"chunk-vendors"]),e()})({0:function(t,n,e){t.exports=e("56d7")},"034f":function(t,n,e){"use strict";e("85ec")},"56d7":function(t,n,e){"use strict";e.r(n);e("e260"),e("e6cf"),e("cca6"),e("a79d");var o=e("2b0e"),s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[t.progress<100?e("div",{class:t.progress>=100?"progress":"progress-hide"},[t._v(" "+t._s(this.progress)+"% ")]):t._e(),e("div",{staticClass:"container"})])},i=[],r=(e("4160"),e("b0c0"),e("159b"),e("d4ec")),a=e("bee2"),p=e("46f8"),h=function(){function t(n,e,o){var s=this;Object(r["a"])(this,t),this.container=document.querySelector(n),this.containerWidth=this.container.offsetWidth,this.containerHeight=this.container.offsetHeight,window.addEventListener("resize",this.onWindowResize.bind(this),!1),this.event=e,this.bkPicture=o,this.init();var i=new p["b"],a=function t(){if(requestAnimationFrame(t),s.renderer.render(s.scene,s.camera),s.dir&&s.speed){var n=i.getDelta()*s.dir*s.speed;s.model.angle+=n,s.model.angle>=p["e"].degToRad(s.totalAngle)?s.model.angle=p["e"].degToRad(s.totalAngle):s.model.angle<=0?s.model.angle=0:(s.model.rotateY(n),s.model.position.y+=1.8*p["e"].radToDeg(n)/10)}};a()}return Object(a["a"])(t,[{key:"init",value:function(){var t=this;this.scene=new p["k"],this.scene.background=(new p["l"]).load(this.bkPicture),this.scene.add(new p["a"](16777215,1));var n=new p["j"](16766720,1.3,20);this.photoWidth=16,this.photoHeight=20,n.position.set(2*-this.photoWidth,0,0),this.scene.add(n),this.camera=new p["h"](80,this.containerWidth/this.containerHeight,.1,1e3),this.camera.position.set(2*-this.photoWidth,0,12);var e,o,s,i={antialias:!0,logarithmicDepthBuffer:!1,depth:!0,preserveDrawingBuffer:!0};this.renderer=new p["n"](i),this.renderer.setSize(this.containerWidth,this.containerHeight),this.renderer.setPixelRatio(window.devicePixelRatio),this.container.appendChild(this.renderer.domElement),this.model=new p["d"],this.model.name="model",this.model.angle=0,this.model.rotation.y=-Math.PI/2,this.scene.add(this.model),this.textureLoader=new p["l"],this.container.addEventListener("touchstart",(function(t){t.preventDefault(),e=t.touches[0].pageX})),this.container.addEventListener("touchmove",(function(n){n.preventDefault(),o=n.changedTouches[0].pageX,s=o-e;var i=Math.abs(s);s>0?(t.dir=1,t.speed=i>=50?.6:i/50*.6):s<0&&(t.dir=-1,t.speed=i>=50?.6:i/50*.6)}))}},{key:"onWindowResize",value:function(){this.containerWidth=this.container.offsetWidth,this.containerHeight=this.container.offsetHeight,this.camera.aspect=this.containerWidth/this.containerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.containerWidth,this.containerHeight)}},{key:"createPlane",value:function(t,n,e){var o=this,s=new p["i"](this.photoWidth,this.photoHeight,32);this.textureLoader.load(t,(function(t){var i=new p["g"]({color:16777215,side:p["c"],map:t,transparent:!0}),r=new p["f"](s,i);r.position.setFromCylindricalCoords(2*o.photoWidth,-n,1.8*-e);var a=new p["m"];a.x=2*r.position.x,a.y=r.position.y,a.z=2*r.position.z,r.lookAt(a),r.rotateY(Math.PI/2),o.model.add(r),o.progress++,o.event.emit("progress",o.progress/o.tTotal)}))}},{key:"createPhotos",value:function(t){var n=this;this.tTotal=t.length,this.totalAngle=10*this.tTotal,this.progress=0,t.forEach((function(t,e){var o=n.totalAngle*(e/n.tTotal),s=p["e"].degToRad(o);n.createPlane(t,s,e)}))}}]),t}(),u=h,g=e("faa1").EventEmitter,c=new g,d={name:"Viewer",data:function(){return{progress:"",bkPicture:"./photos/bg.png",pictures:["./photos/p01.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p02.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p03.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p04.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p05.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p06.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p07.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p08.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p9.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p10.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p11.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p12.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p13.png"]}},methods:{initScene:function(){var t=this;this.viewer=new u(".container",c,this.bkPicture),this.viewer.createPhotos(this.pictures),c.on("progress",(function(n){t.progress=Math.round(100*n)}))}},mounted:function(){this.initScene()},beforeDestroy:function(){}},l=d,f=(e("034f"),e("2877")),k=Object(f["a"])(l,s,i,!1,null,null,null),v=k.exports,m=(e("d3b7"),e("8c4f"));o["a"].use(m["a"]);var b=[{path:"/about",name:"About",component:function(){return e.e("about").then(e.bind(null,"f820"))}}],w=new m["a"]({mode:"history",base:"",routes:b}),y=w,P=e("2f62");o["a"].use(P["a"]);var j=new P["a"].Store({state:{},mutations:{},actions:{},modules:{}});o["a"].config.productionTip=!1,new o["a"]({router:y,store:j,render:function(t){return t(v)}}).$mount("#app")},"85ec":function(t,n,e){}});
//# sourceMappingURL=app.be560e44.js.map