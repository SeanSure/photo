(function(t){function n(n){for(var e,a,i=n[0],r=n[1],h=n[2],g=0,c=[];g<i.length;g++)a=i[g],Object.prototype.hasOwnProperty.call(p,a)&&p[a]&&c.push(p[a][0]),p[a]=0;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);u&&u(n);while(c.length)c.shift()();return s.push.apply(s,h||[]),o()}function o(){for(var t,n=0;n<s.length;n++){for(var o=s[n],e=!0,a=1;a<o.length;a++){var r=o[a];0!==p[r]&&(e=!1)}e&&(s.splice(n--,1),t=i(i.s=o[0]))}return t}var e={},p={app:0},s=[];function a(t){return i.p+"js/"+({about:"about"}[t]||t)+"."+{about:"cebc34bf"}[t]+".js"}function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.e=function(t){var n=[],o=p[t];if(0!==o)if(o)n.push(o[2]);else{var e=new Promise((function(n,e){o=p[t]=[n,e]}));n.push(o[2]=e);var s,r=document.createElement("script");r.charset="utf-8",r.timeout=120,i.nc&&r.setAttribute("nonce",i.nc),r.src=a(t);var h=new Error;s=function(n){r.onerror=r.onload=null,clearTimeout(g);var o=p[t];if(0!==o){if(o){var e=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;h.message="Loading chunk "+t+" failed.\n("+e+": "+s+")",h.name="ChunkLoadError",h.type=e,h.request=s,o[1](h)}p[t]=void 0}};var g=setTimeout((function(){s({type:"timeout",target:r})}),12e4);r.onerror=r.onload=s,document.head.appendChild(r)}return Promise.all(n)},i.m=t,i.c=e,i.d=function(t,n,o){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var e in t)i.d(o,e,function(n){return t[n]}.bind(null,e));return o},i.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="",i.oe=function(t){throw console.error(t),t};var r=window["webpackJsonp"]=window["webpackJsonp"]||[],h=r.push.bind(r);r.push=n,r=r.slice();for(var g=0;g<r.length;g++)n(r[g]);var u=h;s.push([0,"chunk-vendors"]),o()})({0:function(t,n,o){t.exports=o("56d7")},"034f":function(t,n,o){"use strict";o("85ec")},"56d7":function(t,n,o){"use strict";o.r(n);o("e260"),o("e6cf"),o("cca6"),o("a79d");var e=o("2b0e"),p=function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div",{attrs:{id:"app"}},[t.progress<100?o("div",{class:t.progress>=100?"progress":"progress-hide"},[t._v(" "+t._s(this.progress)+"% ")]):t._e(),o("div",{staticClass:"container"})])},s=[],a=(o("4160"),o("b0c0"),o("159b"),o("d4ec")),i=o("bee2"),r=o("46f8"),h=function(){function t(n,o,e){var p=this;Object(a["a"])(this,t),this.container=document.querySelector(n),this.containerWidth=this.container.offsetWidth,this.containerHeight=this.container.offsetHeight,window.addEventListener("resize",this.onWindowResize.bind(this),!1),this.event=o,this.bkPicture=e,this.init();var s=new r["b"],i=function t(){if(requestAnimationFrame(t),p.renderer.render(p.scene,p.camera),p.dir&&p.speed){var n=s.getDelta()*p.dir*p.speed;p.model.angle+=n,p.model.angle>=r["e"].degToRad(p.totalAngle)?p.model.angle=r["e"].degToRad(p.totalAngle):p.model.angle<=0?p.model.angle=0:p.model.rotateY(n)}p.model.children.forEach((function(t){Math.abs(p.model.angle-t.angle)<=Math.PI/2?t.visible=!0:t.visible=!1}))};i()}return Object(i["a"])(t,[{key:"init",value:function(){var t=this;this.scene=new r["k"],this.scene.background=(new r["l"]).load(this.bkPicture),this.scene.add(new r["a"](16777215,.9));var n=new r["j"](16766720,1.2,100,1);this.photoWidth=12,this.photoHeight=20,n.position.set(-this.photoWidth,0,1),this.scene.add(n),this.camera=new r["h"](80,this.containerWidth/this.containerHeight,.1,1e3),this.camera.position.set(1*-this.photoWidth,0,12);var o,e,p,s={antialias:!0,logarithmicDepthBuffer:!1,depth:!0,preserveDrawingBuffer:!0};this.renderer=new r["n"](s),this.renderer.setSize(this.containerWidth,this.containerHeight),this.renderer.setPixelRatio(window.devicePixelRatio),this.container.appendChild(this.renderer.domElement),this.model=new r["d"],this.model.name="model",this.model.angle=0,this.model.rotation.y=-Math.PI/2,this.scene.add(this.model),this.textureLoader=new r["l"],this.container.addEventListener("touchstart",(function(t){t.preventDefault(),o=t.touches[0].pageX})),this.container.addEventListener("touchmove",(function(n){n.preventDefault(),e=n.changedTouches[0].pageX,p=e-o;var s=Math.abs(p);p>0?(t.dir=1,t.speed=s>=50?.6:s/50*.6):p<0&&(t.dir=-1,t.speed=s>=50?.6:s/50*.6)}))}},{key:"onWindowResize",value:function(){this.containerWidth=this.container.offsetWidth,this.containerHeight=this.container.offsetHeight,this.camera.aspect=this.containerWidth/this.containerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.containerWidth,this.containerHeight)}},{key:"createPlane",value:function(t,n){var o=this,e=new r["i"](this.photoWidth,this.photoHeight,32);this.textureLoader.load(t,(function(t){var p=new r["g"]({color:16777215,side:r["c"],map:t,transparent:!0}),s=new r["f"](e,p);s.position.setFromCylindricalCoords(1*o.photoWidth,-n,0);var a=new r["m"];a.x=2*s.position.x,a.y=s.position.y,a.z=2*s.position.z,s.angle=n,s.lookAt(a),s.rotateY(Math.PI/2),o.model.add(s),o.progress++,o.event.emit("progress",o.progress/o.tTotal)}))}},{key:"createPhotos",value:function(t){var n=this;this.tTotal=t.length,this.totalAngle=15*this.tTotal,this.progress=0,t.forEach((function(t,o){var e=15*o,p=r["e"].degToRad(e);n.createPlane(t,p)}))}}]),t}(),g=h,u=o("faa1").EventEmitter,c=new u,d={name:"Viewer",data:function(){return{progress:"",bkPicture:"./photos/bg.png",pictures:["./photos/p01.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p02.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p03.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p04.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p05.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p06.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p07.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p08.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p9.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p10.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p11.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p12.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p13.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p14.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p15.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p17.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p18.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p19.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p20.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p21.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p22.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p23.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p24.png","./photos/kuang.png","./photos/kuang.png","./photos/kuang.png","./photos/p27.png"]}},methods:{initScene:function(){var t=this;this.viewer=new g(".container",c,this.bkPicture),this.viewer.createPhotos(this.pictures),c.on("progress",(function(n){t.progress=Math.round(100*n)}))}},mounted:function(){this.initScene()},beforeDestroy:function(){}},l=d,f=(o("034f"),o("2877")),k=Object(f["a"])(l,p,s,!1,null,null,null),v=k.exports,m=(o("d3b7"),o("8c4f"));e["a"].use(m["a"]);var b=[{path:"/about",name:"About",component:function(){return o.e("about").then(o.bind(null,"f820"))}}],w=new m["a"]({mode:"history",base:"",routes:b}),y=w,P=o("2f62");e["a"].use(P["a"]);var j=new P["a"].Store({state:{},mutations:{},actions:{},modules:{}});e["a"].config.productionTip=!1,new e["a"]({router:y,store:j,render:function(t){return t(v)}}).$mount("#app")},"85ec":function(t,n,o){}});
//# sourceMappingURL=app.069c3d12.js.map